@model IEnumerable<AssetManager.Models.Project>

@{
    ViewBag.Title = "Projects";
}
<script>
    
</script>

<h2>Projects</h2>
@{
    var url = Url.Action("Index", "Projects");
}
<script>
    $("#locBar").append("<span>Projects</span>");
</script>

<p>
    @Html.ActionLink("Create New Project", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ProjectType.Type)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DateTimeCreated)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            <a href="@Url.Action("Index", "Assets", new { id = item.Id })">
                @if (item.Thumbnail != null)
                {
                    <img src="@Url.Content(item.Thumbnail)" alt="No" width="30" height="30" />
                }
                @Html.DisplayFor(modelItem => item.Name)
            </a>
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ProjectType.Type)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateTimeCreated)
        </td>
        <td>
            @if (User.Identity.Name.ToLower() == @"ICEANIMATIONS\qurban.ali".ToLower())
            {
                @Html.ActionLink("Edit", "Edit", new { id = item.Id }) <text>|</text>
                @Html.ActionLink("Delete", "Delete", new { id = item.Id }) <text>|</text>
            }
            @Html.ActionLink("Edit Rules", "EditRules", new { id = item.Id }) |
            @Html.ActionLink("Details", "Details", new { id = item.Id })
        </td>
    </tr>
}

</table>
